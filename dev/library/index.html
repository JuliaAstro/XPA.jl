<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · XPA.jl</title><meta name="title" content="Reference · XPA.jl"/><meta property="og:title" content="Reference · XPA.jl"/><meta property="twitter:title" content="Reference · XPA.jl"/><meta name="description" content="Documentation for XPA.jl."/><meta property="og:description" content="Documentation for XPA.jl."/><meta property="twitter:description" content="Documentation for XPA.jl."/><meta property="og:url" content="https://juliaastro.org/XPA/stable/library/"/><meta property="twitter:url" content="https://juliaastro.org/XPA/stable/library/"/><link rel="canonical" href="https://juliaastro.org/XPA/stable/library/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="XPA.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">XPA.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">The <code>XPA.jl</code> package</a></li><li><a class="tocitem" href="../install/">Installation</a></li><li><a class="tocitem" href="../intro/">Using the XPA messaging system</a></li><li><a class="tocitem" href="../client/">Client operations</a></li><li><a class="tocitem" href="../server/">Implementing a server</a></li><li><a class="tocitem" href="../misc/">Utilities</a></li><li class="is-active"><a class="tocitem" href>Reference</a><ul class="internal"><li><a class="tocitem" href="#XPA-client-methods-and-types"><span>XPA client methods and types</span></a></li><li><a class="tocitem" href="#XPA-server-methods-and-types"><span>XPA server methods and types</span></a></li><li><a class="tocitem" href="#Utilities"><span>Utilities</span></a></li><li><a class="tocitem" href="#Constants"><span>Constants</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaAstro/XPA.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaAstro/XPA.jl/blob/main/docs/src/library.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><p>The following provides detailled documentation about types and methods provided by the XPA package.  This information is also available from the REPL by typing <code>?</code> followed by the name of a method or a type.</p><h2 id="XPA-client-methods-and-types"><a class="docs-heading-anchor" href="#XPA-client-methods-and-types">XPA client methods and types</a><a id="XPA-client-methods-and-types-1"></a><a class="docs-heading-anchor-permalink" href="#XPA-client-methods-and-types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.Client" href="#XPA.Client"><code>XPA.Client</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.Client</code></pre><p>An instance of the mutable structure <code>XPA.Client</code> represents a client connection in the XPA Messaging System.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/types.jl#L33-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.connection" href="#XPA.connection"><code>XPA.connection</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.connection()</code></pre><p>yields a persistent XPA client connection that is kept open for the calling task (a different connection is memorized for each Julia task).</p><p>Per-task client connections are automatically open (or even re-open) and closed as needed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L55-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.get" href="#XPA.get"><code>XPA.get</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.get([T, [dims,]] [conn,] apt, args...; kwds...)</code></pre><p>retrieves data from one or more XPA access-points <code>apt</code> with arguments <code>args...</code>. Argument <code>apt</code> is an instance of <a href="#XPA.AccessPoint"><code>XPA.AccessPoint</code></a>, a template name, a <code>host:port</code> string, or the path to a Unix socket file. Arguments <code>args...</code> are converted into a single string with elements of <code>args...</code> separated by a single space. Optional argument <code>conn</code> is a persistent XPA client connection created by <a href="#XPA.Client"><code>XPA.Client</code></a>; if omitted, a per-task connection is used (see <a href="#XPA.connection"><code>XPA.connection</code></a>). The returned value depends on the optional arguments <code>T</code> and <code>dims</code>.</p><p>If neither <code>T</code> nor <code>dims</code> are specified, an instance of <a href="#XPA.Reply"><code>XPA.Reply</code></a> is returned with all the answer(s) from the XPA server(s).</p><p>If <code>T</code> and, possibly, <code>dims</code> are specified, a single answer and no errors are expected (as if <code>nmax=1</code> and <code>throwerrors=true</code>) and the data part of the answer is converted according to <code>T</code> which must be a type and <code>dims</code> which is an optional array size:</p><ul><li><p>With <code>dims</code> an <code>N</code>-dimensional array size and <code>T</code> an array type like <code>Array{S}</code> or <code>Array{S,N}</code>, the data is returned as an array of this type and size.</p></li><li><p>Without <code>dims</code> and if <code>T</code> is a vector type like <code>Vector{S}</code> or <code>Memory{S}</code>, the data is returned as a vector of type <code>T</code> with as many elements of type <code>S</code> that fit into the data.</p></li><li><p>Without <code>dims</code> and if <code>T</code> is <code>String</code>, a string interpreting the data as ASCII characters is returned.</p></li><li><p>Without <code>dims</code> and for any other types <code>T</code>, the <code>sizeof(T)</code> leading bytes of the data are returned as a single value of type <code>T</code>.</p></li></ul><p>Except if <code>T</code> is <code>String</code>, trailing data bytes, if any, are ignored.</p><p><strong>Keywords</strong></p><ul><li><p>Keyword <code>nmax</code> specifies the maximum number of answers. Specify <code>nmax=-1</code> to use the maximum number of XPA hosts. This keyword is forced to be <code>1</code> if <code>T</code> is specified; otherwise, <code>nmax=1</code> by default.</p></li><li><p>Keyword <code>throwerrors</code> specifies whether to check for errors. If this keyword is set true, an exception is thrown for the first error message encountered in the list of answers. This keyword is forced to be <code>true</code> if <code>T</code> is specified; otherwise, <code>throwerrors</code> is false by default.</p></li><li><p>Keyword <code>mode</code> specifies options in the form <code>&quot;key1=value1,key2=value2&quot;</code>.</p></li><li><p>Keyword <code>users</code> specifies the list of possible users owning the access-point. This (temporarily) overrides the settings in environment variable <code>XPA_NSUSERS</code>. By default and if the environment variable <code>XPA_NSUSERS</code> is not set, the access-point must be owned the caller (see Section <em>Distinguishing Users</em> in XPA documentation). The value is a string which may be a list of comma separated user names or <code>&quot;*&quot;</code> to access all users on a given machine.</p></li></ul><p><strong>See also</strong></p><p><a href="#XPA.Client"><code>XPA.Client</code></a>, <a href="#XPA.get_data"><code>XPA.get_data</code></a>, <a href="#XPA.set"><code>XPA.set</code></a>, and <a href="#XPA.verify"><code>XPA.verify</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L480-L536">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.Reply" href="#XPA.Reply"><code>XPA.Reply</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.Reply</code></pre><p>type of structure used to store the answer(s) of <a href="#XPA.get"><code>XPA.get</code></a> and <a href="#XPA.set"><code>XPA.set</code></a> requests.</p><p>Assuming <code>A</code> is an instance of <code>XPA.Reply</code>, it can be used as an abstract vector and <code>A[i]</code> yields the <code>i</code>-th answer in <code>A</code>. The syntax <code>A[]</code> yields <code>A[1]</code> if <code>A</code> has a single answer and throws otherwise.</p><p>A single answer <code>A[i]</code> implements the following properties:</p><pre><code class="language-julia hljs">A[i].server       # identifier of the XPA server which sent the `i`-th answer
A[i].data(...)    # data associated with `i`-th answer (see below)
A[i].has_message  # whether `i`-th answer contains a message
A[i].has_error    # whether `i`-th answer has an error
A[i].message      # message or error message associated with `i`-th answer</code></pre><p>To retrieve the data associated with a reply, the <code>data</code> property can be used as follows:</p><pre><code class="language-julia hljs">A[i].data()                  # a vector of bytes
A[i].data(String)            # a single ASCII string
A[i].data(T)                 # a single value of type `T`
A[i].data(Vector{T})         # the largest possible vector with elements of type `T`
A[i].data(Array{T}, dims...) # an array of element type `T` and size `dims...`</code></pre><p>If <code>Base.Memory</code> exists <code>Vector{T}</code> can be replaced by <code>Memory{T}</code>.</p><p><strong>See also</strong></p><p><a href="#XPA.get"><code>XPA.get</code></a>, <a href="#XPA.set"><code>XPA.set</code></a>, and <a href="#XPA.has_errors"><code>XPA.has_errors</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/types.jl#L86-L122">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.get_data" href="#XPA.get_data"><code>XPA.get_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.get_data([T, [dims,]] rep::XPA.Reply, i=1; take=false)
XPA.get_data([T, [dims,]] rep[i]; take=false)
rep[i].data([T, [dims,]]; take=false)</code></pre><p>yields the data associated with the <code>i</code>-th answer in XPA reply <code>rep</code>. The returned value depends on the optional leading arguments <code>T</code> and <code>dims</code>:</p><ul><li><p>If neither <code>T</code> nor <code>dims</code> are specified, the data is returned as a vector of bytes (<code>UInt8</code>).</p></li><li><p>With <code>dims</code> an <code>N</code>-dimensional array size and <code>T</code> an array type like <code>Array{S}</code> or <code>Array{S,N}</code>, the data is returned as an array of this type and size.</p></li><li><p>Without <code>dims</code> and if <code>T</code> is a vector type like <code>Vector{S}</code> or <code>Memory{S}</code>, the data is returned as a vector of type <code>T</code> with as many elements of type <code>S</code> that fit into the data.</p></li><li><p>Without <code>dims</code> and if <code>T</code> is <code>String</code>, a string interpreting the data as ASCII characters is returned.</p></li><li><p>Without <code>dims</code> and for any other types <code>T</code>, the <code>sizeof(T)</code> leading bytes of the data are returned as a single value of type <code>T</code>.</p></li></ul><p>Except if <code>T</code> is <code>String</code>, trailing data bytes, if any, are ignored.</p><p>The <code>take</code> keyword specifies whether the returned result may steal the internal data buffer in <code>rep[i]</code> thus saving some memory and copy but preventing other retrieval of the data by another call to <code>XPA.get_data</code>. This keyword is ignored if the result cannot directly use the internal buffer. By default, <code>take=false</code>.</p><p>In any cases, the type of the result is predictable, so there should be no type instability issue.</p><div class="admonition is-info" id="Note-ade8ec0bcbdafeb4"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-ade8ec0bcbdafeb4" title="Permalink"></a></header><div class="admonition-body"><p>In the future <code>XPA.get_data</code> will be deprecated; <code>rep[i].data(...)</code> is the recommended syntax.</p></div></div><p><strong>See also</strong></p><p><a href="#XPA.get"><code>XPA.get</code></a>, <a href="#XPA.get_message"><code>XPA.get_message</code></a>, and <a href="#XPA.get_server"><code>XPA.get_server</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L1042-L1083">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.get_server" href="#XPA.get_server"><code>XPA.get_server</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.get_server(rep::XPA.Reply, i=1)
XPA.get_server(rep[i])
rep[i].server</code></pre><p>yields a string identifying the server who provided the <code>i</code>-th answer in XPA reply <code>rep</code>.</p><div class="admonition is-info" id="Note-71c55cf9f6869096"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-71c55cf9f6869096" title="Permalink"></a></header><div class="admonition-body"><p>In the future <code>XPA.get_server</code> will be deprecated; <code>rep[i].server</code> is the recommended syntax.</p></div></div><p><strong>See also</strong></p><p><a href="#XPA.get"><code>XPA.get</code></a>, <a href="#XPA.has_message"><code>XPA.has_message</code></a>, <a href="#XPA.has_error"><code>XPA.has_error</code></a>, <a href="#XPA.get_data"><code>XPA.get_data</code></a> and <a href="#XPA.get_message"><code>XPA.get_message</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L820-L836">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.get_message" href="#XPA.get_message"><code>XPA.get_message</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.get_message(rep::XPA.Reply, i=1)
XPA.get_message(rep[i])
rep[i].message</code></pre><p>yields the message associated with the <code>i</code>-th answer in XPA reply <code>rep</code>. An empty string is returned if there is no message.</p><div class="admonition is-info" id="Note-bd251557e4f1f204"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-bd251557e4f1f204" title="Permalink"></a></header><div class="admonition-body"><p>In the future <code>XPA.get_message</code> will be deprecated; <code>rep[i].message</code> is the recommended syntax.</p></div></div><p><strong>See also</strong></p><p><a href="#XPA.get"><code>XPA.get</code></a>, <a href="#XPA.has_message"><code>XPA.has_message</code></a>, <a href="#XPA.has_error"><code>XPA.has_error</code></a>, <a href="#XPA.get_data"><code>XPA.get_data</code></a> and <a href="#XPA.get_server"><code>XPA.get_server</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L797-L814">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.has_error" href="#XPA.has_error"><code>XPA.has_error</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.has_error(rep::XPA.Reply, i=1)
XPA.has_error(rep[i])
rep[i].has_error</code></pre><p>yields whether <code>i</code>-th answer in XPA reply <code>rep</code> has an error whose message is given by <code>rep[i].message</code>.</p><div class="admonition is-info" id="Note-a22e585809abf8fa"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-a22e585809abf8fa" title="Permalink"></a></header><div class="admonition-body"><p>In the future <code>XPA.has_error</code> will be deprecated; <code>rep[i].has_error</code> is the recommended syntax.</p></div></div><p><strong>See also</strong></p><p><a href="#XPA.get"><code>XPA.get</code></a>, <a href="#XPA.get_message"><code>XPA.get_message</code></a>, <a href="#XPA.has_message"><code>XPA.has_message</code></a>, <a href="#XPA.get_data"><code>XPA.get_data</code></a>, and <a href="#XPA.get_server"><code>XPA.get_server</code></a>,</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L846-L863">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.has_errors" href="#XPA.has_errors"><code>XPA.has_errors</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.has_errors(rep::Reply) -&gt; Bool</code></pre><p>yields whether answer <code>rep</code> contains any error messages.</p><p><strong>See also</strong></p><p><a href="#XPA.get"><code>XPA.get</code></a>, <a href="#XPA.has_error"><code>XPA.has_error</code></a>, and <a href="#XPA.get_message"><code>XPA.get_message</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L910-L919">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.has_message" href="#XPA.has_message"><code>XPA.has_message</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.has_message(rep::XPA.Reply, i=1)
XPA.has_message(rep[i])
rep[i].has_message</code></pre><p>yields whether <code>i</code>-th answer in XPA reply <code>rep</code> has an associated message that is given by <code>rep[i].message</code>.</p><div class="admonition is-info" id="Note-382a4ee72b7a51f5"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-382a4ee72b7a51f5" title="Permalink"></a></header><div class="admonition-body"><p>In the future <code>XPA.has_message</code> will be deprecated; <code>rep[i].has_message</code> is the recommended syntax.</p></div></div><p><strong>See also</strong></p><p><a href="#XPA.get"><code>XPA.get</code></a>, <a href="#XPA.get_message"><code>XPA.get_message</code></a>, <a href="#XPA.has_error"><code>XPA.has_error</code></a>, <a href="#XPA.get_data"><code>XPA.get_data</code></a>, and <a href="#XPA.get_server"><code>XPA.get_server</code></a>,</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L870-L887">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.join_arguments" href="#XPA.join_arguments"><code>XPA.join_arguments</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.join_arguments(args) -&gt; str::String</code></pre><p>joins a tuple of arguments into a single string where arguments are separated by a single space. It is implemented so as to be faster than <code>join(args, &quot; &quot;)</code> when <code>args</code> has less than 2 arguments. It is intended to build XPA command string from arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L929-L936">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.verify" href="#XPA.verify"><code>XPA.verify</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.verify(rep::Reply [, i]; throwerrors::Bool=false) -&gt; Bool</code></pre><p>verifies whether answer(s) in the result <code>rep</code> from an <a href="#XPA.get"><code>XPA.get</code></a> or <a href="#XPA.set"><code>XPA.set</code></a> request has no errors. If index <code>i</code> is specified only that specific answer is considered; otherwise, all answers are verified. If keyword <code>throwerrors</code> is true, an exception is thrown for the first error found if any.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L1009-L1017">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.set" href="#XPA.set"><code>XPA.set</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.set([conn,] apt, args...; data=nothing, kwds...) -&gt; rep</code></pre><p>sends <code>data</code> to one or more XPA access-points identified by <code>apt</code> with arguments <code>args...</code> (automatically converted into a single string where the arguments are separated by a single space). The result is an instance of <a href="#XPA.Reply"><code>XPA.Reply</code></a>. Optional argument <code>conn</code> is a persistent XPA client connection (created by <a href="#XPA.Client"><code>XPA.Client</code></a>); if omitted, a per-task connection is used (see <a href="#XPA.connection"><code>XPA.connection</code></a>).</p><p><strong>Keywords</strong></p><ul><li><p><code>data</code> specifies the data to send, may be <code>nothing</code>, an array, or a string.</p></li><li><p><code>nmax</code> specifies the maximum number of recipients, <code>nmax=1</code> by default. Specify <code>nmax=-1</code> to use the maximum possible number of XPA hosts.</p></li><li><p><code>mode</code> specifies options in the form <code>&quot;key1=value1,key2=value2&quot;</code>.</p></li><li><p><code>throwerrors</code> specifies whether to check for errors. If this keyword is set <code>true</code>, an exception is thrown for the first error message encountered in the list of answers. By default, <code>throwerrors</code> is false.</p></li><li><p><code>users</code> specifies the list of possible users owning the access-point. This (temporarily) overrides the settings in environment variable <code>XPA_NSUSERS</code>. By default and if the environment variable <code>XPA_NSUSERS</code> is not set, the access-point must be owned by the caller (see Section <em>Distinguishing Users</em> in XPA documentation). The value is a string which may be a list of comma separated user names or <code>&quot;*&quot;</code> to access all users on a given machine.</p></li></ul><p><strong>See also</strong></p><p><a href="#XPA.Client"><code>XPA.Client</code></a>, <a href="#XPA.get"><code>XPA.get</code></a> and <a href="#XPA.verify"><code>XPA.verify</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L580-L613">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.buffer" href="#XPA.buffer"><code>XPA.buffer</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">buf = XPA.buffer(data)</code></pre><p>yields an object <code>buf</code> representing the contents of <code>data</code> and which can be used as an argument to <code>ccall</code>. Argument <code>data</code> can be <code>nothing</code>, an array, or a string. If <code>data</code> is a dense array, <code>buf</code> is <code>data</code>. If <code>data</code> is another type of array, <code>buf</code> is <code>data</code> converted to an <code>Array</code>. If <code>data</code> is an ASCII string, <code>buf</code> is copy of <code>data</code> in a temporary byte buffer. If <code>data</code> is <code>nothing</code>, <code>XPA.NullBuffer()</code> is returned.</p><p>Standard methods like <code>pointer</code> or <code>sizeof</code> can be applied to <code>buf</code> to retrieve the address and the size (in bytes) of the data and <code>Base.unsafe_convert(Ptr{Cvoid}, buf)</code> can also be used.</p><p><strong>See also</strong></p><p><a href="#XPA.set"><code>XPA.set</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L1176-L1193">source</a></section></article><h2 id="XPA-server-methods-and-types"><a class="docs-heading-anchor" href="#XPA-server-methods-and-types">XPA server methods and types</a><a id="XPA-server-methods-and-types-1"></a><a class="docs-heading-anchor-permalink" href="#XPA-server-methods-and-types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.Server" href="#XPA.Server"><code>XPA.Server</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.Server</code></pre><p>An instance of the mutable structure <code>XPA.Server</code> represents a server connection in the XPA Messaging System.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/types.jl#L49-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.SendCallback" href="#XPA.SendCallback"><code>XPA.SendCallback</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.SendCallback &lt;: XPA.Callback</code></pre><p>An instance of the <code>XPA.SendCallback</code> structure represents a callback called to serve an <a href="#XPA.get"><code>XPA.get</code></a> request.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/types.jl#L145-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.store!" href="#XPA.store!"><code>XPA.store!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.store!(buf, data)
XPA.store!(buf, ptr, len)</code></pre><p>store into the send buffer <code>buf</code> a dynamically allocated copy of the contents of <code>data</code> or of the <code>len</code> bytes at address <code>ptr</code>.</p><div class="admonition is-warning" id="Warning-fb4ba5c2b579997e"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-fb4ba5c2b579997e" title="Permalink"></a></header><div class="admonition-body"><p>This method is meant to be used in a <em>send</em> callback to store the result of an <a href="#XPA.get"><code>XPA.get</code></a> request processed by an XPA server. Memory leaks are expected if used in another context.</p></div></div><p><strong>See also</strong></p><p><a href="#XPA.Server"><code>XPA.Server</code></a>, <a href="#XPA.SendCallback"><code>XPA.SendCallback</code></a>, and <a href="#XPA.get"><code>XPA.get</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/server.jl#L306-L322">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.ReceiveCallback" href="#XPA.ReceiveCallback"><code>XPA.ReceiveCallback</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.ReceiveCallback &lt;: XPA.Callback</code></pre><p>An instance of the <code>XPA.ReceiveCallback</code> structure represents a callback called to serve an <a href="#XPA.set"><code>XPA.set</code></a> request.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/types.jl#L178-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.peek" href="#XPA.peek"><code>XPA.peek</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.peek(T, buf, i=1) -&gt; val</code></pre><p>yields the <code>i</code>-th binary value of type <code>T</code> stored into receive buffer <code>buf</code>. Bounds checking is performed unless <code>@inbounds</code> is active.</p><p>Another usage of the <code>XPA.peek</code> method is to <em>convert</em> the contents of the receive buffer into an array:</p><pre><code class="language-julia hljs">XPA.peek(Vector{T}, [len,] buf) -&gt; vec
XPA.peek(Array{T[,N]}, (dim1, ..., dimN), buf) -&gt; arr</code></pre><p>yield a Julia vector <code>vec</code> or array <code>arr</code> whose elements are of type <code>T</code> and dimensions are <code>len</code> or <code>(dim1, ..., dimN)</code>. For a vector, if the length is unspecified, the vector of maximal length that fits in the buffer is returned.</p><p>If keyword <code>temporary</code> is true, then <code>unsafe_wrap</code> is called (with option <code>own=false</code>) to wrap the buffer contents into a Julia array whose life-time cannot exceeds that of the callback. Otherwise, a copy of the buffer contents is returned.</p><p><strong>See also</strong></p><p><a href="#XPA.ReceiveCallback"><code>XPA.ReceiveCallback</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/server.jl#L389-L415">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.error-Tuple{XPA.Server, AbstractString}" href="#Base.error-Tuple{XPA.Server, AbstractString}"><code>Base.error</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">error(srv, msg) -&gt; XPA.FAILURE</code></pre><p>Communicates error message <code>msg</code> to the client when serving a request by XPA server <code>srv</code>. This method shall only be used by the send/receive callbacks of an XPA server.</p><p><strong>See also</strong></p><p><a href="#XPA.Server"><code>XPA.Server</code></a>, <a href="#XPA.message"><code>XPA.message</code></a>, <a href="#XPA.SendCallback"><code>XPA.SendCallback</code></a>, and <a href="#XPA.ReceiveCallback"><code>XPA.ReceiveCallback</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/server.jl#L273-L284">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.poll" href="#XPA.poll"><code>XPA.poll</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.poll(sec, maxreq)</code></pre><p>polls for XPA events. This method is meant to implement a polling event loop which checks for and processes XPA requests without blocking.</p><p>Argument <code>sec</code> specifies a timeout in seconds (rounded to millisecond precision). If <code>sec</code> is positive, the method blocks no longer than this amount of time. If <code>sec</code> is strictly negative, the routine blocks until the occurrence of an event to be processed.</p><p>Argument <code>maxreq</code> specifies how many requests will be processed. If <code>maxreq &lt; 0</code>, then no events are processed, but instead, the returned value indicates the number of events that are pending. If <code>maxreq == 0</code>, then all currently pending requests will be processed. Otherwise, up to <code>maxreq</code> requests will be processed. The most usual values for <code>maxreq</code> are <code>0</code> to process all requests and <code>1</code> to process one request.</p><p>The following example implements a polling loop which has no noticeable impact on the consumption of CPU when no requests are emitted to the server:</p><pre><code class="language-julia hljs">const __running = Ref{Bool}(false)

function run()
    global __running
    __running[] = true
    while __running[]
        XPA.poll(-1, 1)
    end
end</code></pre><p>Here the global variable <code>__running</code> is a reference to a boolean whose value indicates whether to continue to run the XPA server(s) created by the process. The idea is to pass the reference to the callbacks of the server (as their client data for instance) and let the callbacks stop the loop by setting the contents of the reference to <code>false</code>.</p><p>Another possibility is to use <a href="#XPA.mainloop"><code>XPA.mainloop</code></a> (which to see).</p><p>To let Julia performs other tasks, the polling method may be repeatedly called by a Julia timer. The following example does this. Calling <code>resume</code> starts polling for XPA events immediately and then every 100ms. Calling <code>suspend</code> suspends the processing of XPA events.</p><pre><code class="language-julia hljs">const __timer = Ref{Timer}()

ispolling() = (isdefined(__timer, 1) &amp;&amp; isopen(__timer[]))

resume() =
    if ! ispolling()
        __timer[] = Timer((tm) -&gt; XPA.poll(0, 0), 0.0, interval=0.1)
    end

suspend() =
    ispolling() &amp;&amp; close(__timer[])</code></pre><p><strong>See also</strong></p><p><a href="#XPA.Server"><code>XPA.Server</code></a> and <a href="#XPA.mainloop"><code>XPA.mainloop</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/server.jl#L488-L548">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.message" href="#XPA.message"><code>XPA.message</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.message(srv, msg)</code></pre><p>sets a specific acknowledgment message back to the client. Argument <code>srv</code> is the XPA server serving the client and <code>msg</code> is the acknowledgment message. This method shall only be used by the receive callback of an XPA server.</p><p><strong>See also</strong></p><p><a href="#XPA.Server"><code>XPA.Server</code></a>, <a href="#Base.error-Tuple{XPA.Server, AbstractString}"><code>XPA.error</code></a>, and <a href="#XPA.ReceiveCallback"><code>XPA.ReceiveCallback</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/server.jl#L291-L302">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.mainloop" href="#XPA.mainloop"><code>XPA.mainloop</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.mainloop()</code></pre><p>runs XPA event loop which handles the requests sent to the server(s) created by this process. The loop runs until all servers created by this process have been closed.</p><p>In the following example, the receive callback function close the server when it receives a <code>&quot;quit&quot;</code> command:</p><pre><code class="language-julia hljs">function rproc(::Nothing, srv::XPA.Server, params::String,
               buf::Ptr{UInt8}, len::Integer)
    status = XPA.SUCCESS
    if params == &quot;quit&quot;
        close(srv)
    elseif params == ...
        ...
    end
    return status
end</code></pre><p><strong>See also</strong></p><p><a href="#XPA.Server"><code>XPA.Server</code></a> and <a href="#XPA.mainloop"><code>XPA.mainloop</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/server.jl#L553-L579">source</a></section></article><h2 id="Utilities"><a class="docs-heading-anchor" href="#Utilities">Utilities</a><a id="Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.address" href="#XPA.address"><code>XPA.address</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.address(apt) -&gt; addr</code></pre><p>yields the address of XPA access-point <code>apt</code> which can be: an instance of <code>XPA.AccessPoint</code>, a string with a valid XPA server address or a server <code>class:name</code> identifier. In the latter case, <a href="#XPA.find"><code>XPA.find</code></a> is called to find a matching server which is much longer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L460-L467">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.list" href="#XPA.list"><code>XPA.list</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.list(f = Returns(true); kwds...)</code></pre><p>yields a list of available XPA access-points. The result is a vector of <a href="#XPA.AccessPoint"><code>XPA.AccessPoint</code></a> instances. Optional argument <code>f</code> is a predicate function to filter which access-points to keep.</p><p>For example, to only keep the access-points owned by the user:</p><pre><code class="nohighlight hljs">apts = XPA.list() do apt
    apt.user == ENV[&quot;USER&quot;]
end</code></pre><p><strong>Keywords</strong></p><ul><li><p><code>method</code> is <code>nothing</code> (the default) or one of <code>inet</code>, <code>unix</code> (or <code>local</code>), or <code>localhost</code> as a symbol or a string to require a specific connection method.</p></li><li><p><code>on_error</code> is a symbol indicating what to do in case of unexpected reply by the XPA name server; it can be <code>:throw</code> to throw an exception, <code>:warn</code> (the default) to print a warning, anything else to silently ignore the error.</p></li><li><p><code>xpaget</code> is to specify the method to contact the XPA name server; it can be a string with the path to the <code>xpaget</code> executable or a function behaving like <a href="#XPA.get"><code>XPA.get</code></a>. Using <a href="#XPA.get"><code>XPA.get</code></a> has fewer possibilities so, by default, the <code>xpaget</code> executable provided by <code>XPA_jll</code> artifact is used.</p></li></ul><p><strong>See also</strong></p><p><a href="#XPA.find"><code>XPA.find</code></a> to select a single access-point.</p><p><a href="#XPA.AccessPoint"><code>XPA.AccessPoint</code></a> for the properties of access-points that can be used in the predicate function <code>f</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L97-L133">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.AccessPoint" href="#XPA.AccessPoint"><code>XPA.AccessPoint</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">apt = XPA.AccessPoint(str)
apt = XPA.AccessPoint(class, name, address, user, access)
apt = XPA.AccessPoint(; class=&quot;&quot;, name=&quot;&quot;, address=&quot;&quot;, user=&quot;&quot;, access=0)</code></pre><p>builds a structure representing an XPA server for a client. If single argument is a string <code>str</code>, it is parsed assuming the same format as the output of <code>xpans</code>. Otherwise the arguments/keywords reflect the properties of the object:</p><pre><code class="nohighlight hljs">apt.class   # access-point class
apt.name    # access-point name
apt.address # server address (host:port for inet socket, path for unix socket)
apt.user    # access-point owner
apt.access  # allowed access</code></pre><p>At least the <code>address</code> shall be provided.</p><p>All properties are strings except <code>access</code> which is an unsigned integer whose bits are set as follows:</p><pre><code class="nohighlight hljs"> !iszero(apt.access &amp; 1) # holds if `set` command allowed
 !iszero(apt.access &amp; 2) # holds if `get` command allowed
 !iszero(apt.access &amp; 4) # holds if `info` command allowed</code></pre><p>The constructors also accept <code>access</code> as a string composed of characters <code>&#39;g&#39;</code>, <code>&#39;s&#39;</code>, and <code>&#39;i&#39;</code> respectively indicating whether <code>get</code>, <code>set</code>, and <code>info</code> commands are implemented by the server.</p><p>Method <code>isopen(apt)</code> yields whether <code>address</code> is not an empty string.</p><p><strong>See also</strong></p><p><a href="#XPA.list"><code>XPA.list</code></a> to retrieve a vector of existing XPA servers possibly filtered by some provided function.</p><p><a href="#XPA.find"><code>XPA.find</code></a> to obtain the access-point of a single XPA server.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L327-L364">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.find" href="#XPA.find"><code>XPA.find</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.find(f = Returns(true); kwds...)</code></pre><p>yields the access-point of the XPA server matching the requirements implemented by the predicate function <code>f</code> and keywords <code>kwds...</code>. In principle, the result is either a single instance of <a href="#XPA.AccessPoint"><code>XPA.AccessPoint</code></a> or <code>nothing</code> if no matching server is found (this type assertion may only be invalidated by the function specified via the <code>select</code> keyword).</p><p><strong>Keywords</strong></p><p>In addition to the keywords accepted by <a href="#XPA.list"><code>XPA.list</code></a>, the following keyword(s) are available:</p><ul><li><p><code>select</code> specifies a strategy to apply if more than one access-point is found. <code>select</code> can be a function (like <code>first</code> or <code>last</code> to keep the first or last entry), the symbolic name <code>:interact</code> to ask the user to make the selection via a REPL menu, or anything else to throw an exception. The default is <code>:throw</code>. If <code>select</code> is a function, it is called with a vector of 2 or more matching instances of <a href="#XPA.AccessPoint"><code>XPA.AccessPoint</code></a> and the result of <code>select</code> is returned by <code>XPA.find</code>.</p></li><li><p><code>throwerrors</code> specifies whether to throw an error if no matching servers are found instead of returning <code>nothing</code>.</p></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">apt = XPA.find(; interact = isinteractive(), method = :local)</code></pre><p><strong>See also</strong></p><p><a href="#XPA.list"><code>XPA.list</code></a> which is called to retrieve a list of access-points with the predicate function <code>f</code>.</p><p><a href="#XPA.AccessPoint"><code>XPA.AccessPoint</code></a> for the properties of access-points that can be used in the predicate function <code>f</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/client.jl#L195-L232">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.getconfig" href="#XPA.getconfig"><code>XPA.getconfig</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.getconfig(key) -&gt; val</code></pre><p>yields the value associated with configuration parameter <code>key</code> (a string or a symbol). The following parameters are available (see XPA doc. for more information):</p><table><tr><th style="text-align: left">Key Name</th><th style="text-align: left">Default Value</th></tr><tr><td style="text-align: left"><code>&quot;XPA_MAXHOSTS&quot;</code></td><td style="text-align: left"><code>100</code></td></tr><tr><td style="text-align: left"><code>&quot;XPA_SHORT_TIMEOUT&quot;</code></td><td style="text-align: left"><code>15</code></td></tr><tr><td style="text-align: left"><code>&quot;XPA_LONG_TIMEOUT&quot;</code></td><td style="text-align: left"><code>180</code></td></tr><tr><td style="text-align: left"><code>&quot;XPA_CONNECT_TIMEOUT&quot;</code></td><td style="text-align: left"><code>10</code></td></tr><tr><td style="text-align: left"><code>&quot;XPA_TMPDIR&quot;</code></td><td style="text-align: left"><code>&quot;/tmp/.xpa&quot;</code></td></tr><tr><td style="text-align: left"><code>&quot;XPA_VERBOSITY&quot;</code></td><td style="text-align: left"><code>true</code></td></tr><tr><td style="text-align: left"><code>&quot;XPA_IOCALLSXPA&quot;</code></td><td style="text-align: left"><code>false</code></td></tr></table><p>Also see <a href="#XPA.setconfig!"><code>XPA.setconfig!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/misc.jl#L41-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.setconfig!" href="#XPA.setconfig!"><code>XPA.setconfig!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">XPA.setconfig!(key, val) -&gt; oldval</code></pre><p>set the value associated with configuration parameter <code>key</code> to be <code>val</code>. The previous value is returned.</p><p>Also see <a href="#XPA.getconfig"><code>XPA.getconfig</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/misc.jl#L72-L80">source</a></section></article><h2 id="Constants"><a class="docs-heading-anchor" href="#Constants">Constants</a><a id="Constants-1"></a><a class="docs-heading-anchor-permalink" href="#Constants" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.SUCCESS" href="#XPA.SUCCESS"><code>XPA.SUCCESS</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>XPA.SUCCESS</code> and <code>XPA.FAILURE</code> are the possible values returned by the callbacks of an XPA server.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/types.jl#L16-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPA.FAILURE" href="#XPA.FAILURE"><code>XPA.FAILURE</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>XPA.SUCCESS</code> and <code>XPA.FAILURE</code> are the possible values returned by the callbacks of an XPA server.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/XPA.jl/blob/d2f9827ec2d8c740f4f40155f70908abd7ed680c/src/types.jl#L24">source</a></section></article><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#XPA.FAILURE"><code>XPA.FAILURE</code></a></li><li><a href="#XPA.SUCCESS"><code>XPA.SUCCESS</code></a></li><li><a href="#XPA.AccessPoint"><code>XPA.AccessPoint</code></a></li><li><a href="#XPA.Client"><code>XPA.Client</code></a></li><li><a href="#XPA.ReceiveCallback"><code>XPA.ReceiveCallback</code></a></li><li><a href="#XPA.Reply"><code>XPA.Reply</code></a></li><li><a href="#XPA.SendCallback"><code>XPA.SendCallback</code></a></li><li><a href="#XPA.Server"><code>XPA.Server</code></a></li><li><a href="#Base.error-Tuple{XPA.Server, AbstractString}"><code>Base.error</code></a></li><li><a href="#XPA.address"><code>XPA.address</code></a></li><li><a href="#XPA.buffer"><code>XPA.buffer</code></a></li><li><a href="#XPA.connection"><code>XPA.connection</code></a></li><li><a href="#XPA.find"><code>XPA.find</code></a></li><li><a href="#XPA.get"><code>XPA.get</code></a></li><li><a href="#XPA.get_data"><code>XPA.get_data</code></a></li><li><a href="#XPA.get_message"><code>XPA.get_message</code></a></li><li><a href="#XPA.get_server"><code>XPA.get_server</code></a></li><li><a href="#XPA.getconfig"><code>XPA.getconfig</code></a></li><li><a href="#XPA.has_error"><code>XPA.has_error</code></a></li><li><a href="#XPA.has_errors"><code>XPA.has_errors</code></a></li><li><a href="#XPA.has_message"><code>XPA.has_message</code></a></li><li><a href="#XPA.join_arguments"><code>XPA.join_arguments</code></a></li><li><a href="#XPA.list"><code>XPA.list</code></a></li><li><a href="#XPA.mainloop"><code>XPA.mainloop</code></a></li><li><a href="#XPA.message"><code>XPA.message</code></a></li><li><a href="#XPA.peek"><code>XPA.peek</code></a></li><li><a href="#XPA.poll"><code>XPA.poll</code></a></li><li><a href="#XPA.set"><code>XPA.set</code></a></li><li><a href="#XPA.setconfig!"><code>XPA.setconfig!</code></a></li><li><a href="#XPA.store!"><code>XPA.store!</code></a></li><li><a href="#XPA.verify"><code>XPA.verify</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../misc/">« Utilities</a><a class="docs-footer-nextpage" href="../private/">Private methods »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Monday 7 July 2025 12:25">Monday 7 July 2025</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
